{"ast":null,"code":"import React,{useEffect,useState}from'react';import styles from'./TableItem.module.scss';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function TableItem(_ref){let{user,submitResult,problemList,tpl,data,week}=_ref;// const resType = ['ac', 'tle', 'wa', 'pac', 'pac', 'rte'];\nconst resType='ac';const[stack,setStack]=useState({val:0,ind:-1});const[filtered,setFiltered]=useState([]);const getTax=val=>{return new Array(val).fill(0).map((ele,index)=>{if(index<=1)return 1000;else if(index<=3)return 3000;else if(index<=5)return 6000;else return 10000;}).reduce((acc,cur)=>acc+cur,0);};useEffect(()=>{if(week>0&&tpl.length>=week&&data.length>=week&&user.id){setFiltered(tpl.map((ele,ind)=>{const neccessary=ele.problems.filter((ele,index)=>!ele.isChallenge&&data[ind].data.data.filter(e=>e.user.id===user.id)[0].submitResult[index]!=='ac').length;const challenge=ele.problems.filter((ele,index)=>ele.isChallenge&&data[ind].data.data.filter(e=>e.user.id===user.id)[0].submitResult[index]==='ac').length;if(ind===0)return{neccessary:neccessary,challenge:0};return{neccessary:neccessary,challenge:challenge};}));}},[tpl,data,user.id,week]);useEffect(()=>{if(filtered.length>0)setStack({val:0,ind:0});},[filtered]);useEffect(()=>{if(week>0){if(1<=stack.ind+1&&stack.ind+1<=week){setStack({ind:stack.ind+1,val:stack.val+filtered[stack.ind].neccessary-filtered[stack.ind].challenge>0?stack.val+filtered[stack.ind].neccessary-filtered[stack.ind].challenge:0});}}},[stack,week]);useEffect(()=>{if(user.id==='jungyun01')console.log(stack);},[stack]);return/*#__PURE__*/_jsxs(\"tr\",{className:styles['alert'],role:\"alert\",children:[/*#__PURE__*/_jsx(\"td\",{className:styles['handle-'+user.tier],children:user.id}),submitResult.map(ele=>{return/*#__PURE__*/_jsx(\"td\",{className:styles['status'],children:/*#__PURE__*/_jsx(\"span\",{className:styles[ele],children:ele.toUpperCase()})});}),/*#__PURE__*/_jsx(\"td\",{className:styles['table-space-left'],children:\"\\xA0\"}),/*#__PURE__*/_jsx(\"td\",{className:styles['table-space'],children:\"\\xA0\"}),/*#__PURE__*/_jsx(\"td\",{className:styles[getTax(stack.val)>0?'table-tax-d':'table-tax'],children:(getTax(stack.val)>0?getTax(stack.val):0)+'원'})]});}export default TableItem;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}